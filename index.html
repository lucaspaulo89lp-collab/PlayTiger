<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PlayTiger ‚Äî Portal de Jogos</title>
  <link rel="stylesheet" href="./assets/css/main.css" />

  <!-- HOME PREMIUM (isolado pra n√£o quebrar o resto) -->
  <style>
    :root{
      --pt-bg0:#070a0f;
      --pt-bg1:#0b0f14;
      --pt-glass: rgba(255,255,255,.06);
      --pt-stroke: rgba(255,255,255,.12);
      --pt-shadow: 0 22px 70px rgba(0,0,0,.60);
      --pt-ease: cubic-bezier(.2,.9,.2,1);
    }

    html,body{
      background:
        radial-gradient(1200px 600px at 12% 10%, rgba(247,200,67,.10), transparent 55%),
        radial-gradient(900px 520px at 85% 20%, rgba(80,140,255,.12), transparent 60%),
        linear-gradient(180deg, var(--pt-bg0), var(--pt-bg1));
    }

    body{ color: rgba(255,255,255,.90); }

    .home{ padding: 18px 0 40px; }

    .hero{
      position: relative;
      border: 1px solid var(--pt-stroke);
      border-radius: 26px;
      overflow: hidden;
      box-shadow: var(--pt-shadow);
      background:
        radial-gradient(900px 400px at 18% 20%, rgba(247,200,67,.12), transparent 60%),
        radial-gradient(900px 400px at 82% 25%, rgba(80,140,255,.12), transparent 60%),
        rgba(0,0,0,.18);
      min-height: 320px;
    }

    /* IMAGEM HERO (mais presente) */
    .hero::before{
      content:"";
      position:absolute; inset:0;
      background-image: url("./assets/img/hero.webp");
      background-size: cover;
      background-position: center;
      opacity:.45;                 /* era .34 */
      filter: saturate(1.08) contrast(1.08);
      pointer-events:none;
    }

    /* OVERLAY HERO (menos ‚Äúv√©u preto‚Äù) */
    .hero::after{
      content:"";
      position:absolute; inset:0;
      background:
        linear-gradient(90deg, rgba(6,10,16,.78), rgba(6,10,16,.40), rgba(6,10,16,.20)),
        radial-gradient(900px 520px at 30% 30%, rgba(0,0,0,.0), rgba(0,0,0,.30));
      pointer-events:none;
    }

    .hero__inner{
      position: relative;
      z-index: 1;
      padding: 22px;
      display: grid;
      gap: 12px;
      max-width: 980px;
    }

    .hero__kicker{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      color: rgba(255,255,255,.72);
      font-size: 13px;
    }

    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding: 6px 10px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      border-radius: 999px;
      backdrop-filter: blur(10px);
    }

    .hero__title{
      margin: 0;
      font-size: clamp(26px, 3.2vw, 44px);
      letter-spacing: -0.6px;
      line-height: 1.05;
    }

    .hero__desc{
      margin: 0;
      color: rgba(255,255,255,.78); /* um pouco mais claro */
      max-width: 68ch;
      line-height: 1.45;
      font-size: 15px;
    }

    .hero__cta{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 6px;
      align-items:center;
    }

    .btn{
      border-radius: 14px !important;
      transition: transform .08s var(--pt-ease), filter .18s var(--pt-ease) !important;
    }
    .btn:active{ transform: translateY(1px) scale(.99); }

    .ctaNote{
      color: rgba(255,255,255,.72);
      font-size: 12px;
      margin-left: 2px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
      margin-top: 14px;
    }
    @media (max-width: 980px){ .grid{ grid-template-columns: 1fr; } }

    .gcard{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 22px;
      overflow: hidden;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      box-shadow: 0 18px 50px rgba(0,0,0,.55);
      transition: transform .18s var(--pt-ease), box-shadow .18s var(--pt-ease);
    }
    .gcard:hover{
      transform: translateY(-2px);
      box-shadow: 0 26px 70px rgba(0,0,0,.62);
    }

    .gcard__media{
      height: 160px;
      background: radial-gradient(800px 220px at 20% 20%, rgba(247,200,67,.18), transparent 60%),
                  radial-gradient(800px 220px at 80% 40%, rgba(80,140,255,.18), transparent 65%),
                  rgba(0,0,0,.18);
      position: relative;
    }

    /* IMAGEM DO CARD (mais viva) */
    .gcard__media::before{
      content:"";
      position:absolute; inset:0;
      background-image: var(--img);
      background-size: cover;
      background-position: center;
      opacity:.85; /* era .55 */
      filter: saturate(1.15) contrast(1.12);
    }

    /* OVERLAY DO CARD (menos escuro) */
    .gcard__media::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.0), rgba(0,0,0,.35));
    }

    .badge{
      position:absolute;
      left: 12px; top: 12px;
      z-index: 1;
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.24);
      color: rgba(255,255,255,.90);
      font-size: 12px;
      backdrop-filter: blur(10px);
    }

    .gcard__body{
      padding: 14px 14px 14px;
      display:grid;
      gap: 8px;
    }

    .gcard__title{
      margin:0;
      font-size: 16px;
      letter-spacing: -0.2px;
    }
    .gcard__text{
      margin:0;
      color: rgba(255,255,255,.74);
      line-height: 1.45;
      font-size: 13px;
    }

    .gcard__row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      margin-top: 4px;
    }

    .mini{
      font-size: 12px;
      color: rgba(255,255,255,.68);
    }

    .sectionTitle{
      margin: 18px 0 8px;
      font-size: 14px;
      color: rgba(255,255,255,.80);
      letter-spacing: .2px;
    }

    .topbar{
      position: sticky;
      top:0;
      z-index: 20;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(7,10,15,.85), rgba(7,10,15,.55));
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .sfxToggle{
      margin-left:10px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: rgba(255,255,255,.85);
      font-size:12px;
      cursor:pointer;
    }
    .sfxToggle:hover{
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.16);
    }

    .noimg .gcard__media::before{ opacity: 0; }
    .noimg.hero::before{ opacity: 0; }
  </style>
</head>

<body>
  <header class="topbar">
    <div class="container topbar__inner">
      <a class="brand" href="./">
        <span class="brand__mark">üêØ</span>
        <span class="brand__text">PlayTiger</span>
      </a>

      <nav class="nav">
        <a class="nav__link" href="./dashboard.html">Dashboard</a>
        <a class="nav__link" href="./login.html">Entrar</a>
      </nav>

      <div class="wallet">
        <span class="wallet__label" id="hello">Ol√°</span>
        <span class="wallet__value" id="walletTGC">0</span>
        <span class="wallet__unit">TGC</span>
      </div>

      <button class="sfxToggle" id="sfxToggle" type="button" aria-label="Alternar som">
        Som: <span id="sfxState">ON</span>
      </button>
    </div>
  </header>

  <main class="container home">
    <section class="hero" id="hero">
      <div class="hero__inner">
        <div class="hero__kicker">
          <span class="pill">‚úÖ 100% entretenimento</span>
          <span class="pill">‚úÖ Sem apostas</span>
          <span class="pill">ü™ô TGC fict√≠cia</span>
          <span class="pill">üéØ Recompensa por habilidade</span>
        </div>

        <h1 class="hero__title">Jogos r√°pidos, progress√£o e TigerCoin.</h1>
        <p class="hero__desc">
          Um portal de minijogos com sensa√ß√£o premium: feedback, ritmo, progresso e recompensas internas (fict√≠cias).
          Tudo focado em habilidade e divers√£o.
        </p>

        <div class="hero__cta">
          <a class="btn btn--primary" href="./games/clicker/">Jogar agora (Tiger Clicker)</a>
          <button class="btn btn--ghost" id="dailyBonus" type="button">Resgatar b√¥nus di√°rio</button>
          <span class="ctaNote" id="bonusNote">B√¥nus dispon√≠vel 1x por dia.</span>
        </div>
      </div>
    </section>

    <div class="sectionTitle">Jogos</div>

    <section class="grid" id="gamesGrid">
      <!-- Clicker -->
      <article class="gcard" style="--img:url('./assets/img/clicker.webp');">
        <div class="gcard__media">
          <span class="badge">üî• Novo ‚Ä¢ Economia</span>
        </div>
        <div class="gcard__body">
          <h3 class="gcard__title">Tiger Clicker</h3>
          <p class="gcard__text">Round de 30s. Fa√ßa combo, aumente TPS e ganhe TGC por performance. Upgrade com progress√£o.</p>
          <div class="gcard__row">
            <a class="btn btn--primary" href="./games/clicker/">Jogar</a>
            <span class="mini">Ritmo ‚Ä¢ Combo ‚Ä¢ Progress√£o</span>
          </div>
        </div>
      </article>

      <!-- Memory -->
      <article class="gcard" style="--img:url('./assets/img/memory.webp');">
        <div class="gcard__media">
          <span class="badge">üß† Foco ‚Ä¢ Tempo</span>
        </div>
        <div class="gcard__body">
          <h3 class="gcard__title">Tiger Memory</h3>
          <p class="gcard__text">Encontre pares com velocidade. Modal de vit√≥ria, feedback e recompensa baseada em habilidade.</p>
          <div class="gcard__row">
            <a class="btn btn--primary" href="./games/memory/">Abrir</a>
            <span class="mini">Mem√≥ria ‚Ä¢ Reflexo ‚Ä¢ Precis√£o</span>
          </div>
        </div>
      </article>

      <!-- 2048 -->
      <article class="gcard" style="--img:url('./assets/img/2048.webp');">
        <div class="gcard__media">
          <span class="badge">üß© Estrat√©gia</span>
        </div>
        <div class="gcard__body">
          <h3 class="gcard__title">Tiger 2048</h3>
          <p class="gcard__text">L√≥gica e estrat√©gia. Vers√£o pronta para integrar pontua√ß√£o + TGC (pr√≥xima etapa).</p>
          <div class="gcard__row">
            <a class="btn btn--ghost" href="./games/2048/">Abrir</a>
            <span class="mini">L√≥gica ‚Ä¢ Planejamento</span>
          </div>
        </div>
      </article>
    </section>

    <div class="sectionTitle">Transpar√™ncia & Legalidade</div>
    <section class="gcard" style="margin-top:10px;">
      <div class="gcard__body">
        <h3 class="gcard__title">Sem apostas. Sem dinheiro real. 100% habilidade.</h3>
        <p class="gcard__text">
          A TigerCoin (TGC) √© uma moeda fict√≠cia usada apenas dentro do PlayTiger para progress√£o e divers√£o.
          N√£o existe compra, saque ou convers√£o para dinheiro real.
        </p>
      </div>
    </section>
  </main>

  <script src="./assets/js/core.js"></script>
  <script src="./assets/js/sfx.js"></script>

  <script>
    // ===== Header (usu√°rio + carteira)
    const u = PlayTiger.user.get();
    document.getElementById("hello").textContent = "Ol√°, " + u.name;
    const refreshWallet = () => document.getElementById("walletTGC").textContent = PlayTiger.wallet.getTGC();
    refreshWallet();

    // ===== Som ON/OFF
    const sfxState = document.getElementById("sfxState");
    const renderSfx = () => sfxState.textContent = (window.PlayTigerSFX?.isOn?.() ? "ON" : "OFF");
    renderSfx();
    document.getElementById("sfxToggle").addEventListener("click", () => {
      try { PlayTigerSFX.toggle(); PlayTigerSFX.click(); } catch {}
      renderSfx();
    });

    // ===== B√¥nus di√°rio (1x por dia)
    const BONUS_KEY = "playtiger_daily_bonus";
    const BONUS_VALUE = 12;
    const bonusNote = document.getElementById("bonusNote");
    const btnBonus = document.getElementById("dailyBonus");

    function canClaim(){
      const last = localStorage.getItem(BONUS_KEY);
      if (!last) return true;
      const lastDate = new Date(last);
      const now = new Date();
      return lastDate.toDateString() !== now.toDateString();
    }

    function renderBonus(){
      if (canClaim()){
        btnBonus.disabled = false;
        bonusNote.textContent = `B√¥nus dispon√≠vel: +${BONUS_VALUE} TGC (1x por dia).`;
      } else {
        btnBonus.disabled = true;
        bonusNote.textContent = "B√¥nus j√° resgatado hoje. Volte amanh√£ ‚úÖ";
      }
    }

    btnBonus.addEventListener("click", () => {
      if (!canClaim()) return;
      PlayTiger.wallet.addTGC(BONUS_VALUE);
      localStorage.setItem(BONUS_KEY, new Date().toISOString());
      refreshWallet();
      renderBonus();
      try { PlayTigerSFX.win(); } catch {}
      if (navigator.vibrate) navigator.vibrate([12,20,12]);
    });

    // ===== Se imagens n√£o existirem, aplica fallback (n√£o deixa feio)
    const testImg = (src) => new Promise((res) => {
      const img = new Image();
      img.onload = () => res(true);
      img.onerror = () => res(false);
      img.src = src + "?v=" + Date.now();
    });

    (async () => {
      const okHero = await testImg("./assets/img/hero.webp");
      if (!okHero) document.getElementById("hero").classList.add("noimg");

      const cards = document.querySelectorAll(".gcard");
      for (const c of cards){
        const m = getComputedStyle(c).getPropertyValue("--img").trim();
        if (!m || !m.startsWith("url(")) { c.classList.add("noimg"); continue; }
        const url = m.slice(4, -1).replace(/["']/g,"");
        const ok = await testImg(url);
        if (!ok) c.classList.add("noimg");
      }
    })();

    renderBonus();
  </script>
</body>
</html>
